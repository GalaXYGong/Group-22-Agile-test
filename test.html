<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Card game</title>
    <style>

        #board{
            display: none;
        }

        .player_hand {
            display: flex;
            justify-content: center;
            flex-direction: row;
        }

        .card {
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px;
            width: 50px;
            cursor: pointer; /* Add cursor pointer to indicate clickable */
            margin: 1%;

        }
        .card.selected {
            outline: 10px solid yellow; /* Yellow outline for selected card */
        }

        .selected_player_1_card{
            outline: 10px solid yellow; /* Yellow outline for selected card */
        }

        .selected_player_2_card{
            outline: 10px solid orchid; /* Yellow outline for selected card */
        }

        .red {
            background-color: red;

        }

        .blue {
            background-color: blue;

        }
        .green {
            background-color: green;

        }
    </style>
</head>
<body>
<div id="board">
    <h2>Player 1 Hand:</h2>
    <div id="player_1_score"> <h3> Score: 0 </h3> </div>

    <div id="player_1_hand" class="player_hand"></div>
    <hr>
    <h2>Player 2 Hand:</h2>
    <div id="player_2_score"> <h3> Score: 0 </h3> </div>
    <div id="player_2_hand" class="player_hand"></div>
    <h3>Log:</h3>
    <div id="log"></div>
    <hr>
    <button id="next_round"> Next Round</button>
    <hr>
</div>
<button id="start">Start </button>
<button id="reset"> Reset </button>

<div>
    How to play: [Finish Later]
</div>

<script>

    //DOM Variables
    let board = document.getElementById("board");
    let player_1_hand_div = document.getElementById("player_1_hand");
    let player_2_hand_div = document.getElementById("player_2_hand");
    let start = document.getElementById("start");
    let reset = document.getElementById("reset");
    let player_1_score_div = document.getElementById("player_1_score");
    let player_2_score_div = document.getElementById("player_2_score");
    let next_round_button = document.getElementById("next_round");
    let log_div = document.getElementById("log");

    //Game Variables
    //Testing array. Rough Structure array of arrays
    let test_player_1_hand = [
        ["red", 2],
        ["blue", 4],
        ["green", 6],
        ["red", 8],
        ["red", 10]
    ]

    let test_player_2_hand = [
        ["red", 2],
        ["blue", 4],
        ["green", 6],
        ["red", 8],
        ["red", 10]
    ]

    let selectedCard = null; // Variable to store the selected card


    let deck = [];
    let player_1_hand_array = [];
    let player_2_hand_array = [];
    let player_1_score = 0;
    let player_2_score = 0;
    let player_1_turn = true;

    //Functions
    function start_button_function() {
        start.disabled = true;
        reset.disabled = false;
        next_round_button.disabled = true;
        //Display board
        board.style.display = "block";

        //Reset score
        player_1_score_div.innerHTML = `<h3> Score: 0 </h3>`;
        player_2_score_div.innerHTML = `<h3> Score: 0 </h3>`;
        //Function to read test data and display it as divs
        //For loop through test_player_1_hand
        for (let card of test_player_1_hand) {
            player_1_hand_array.push(card);
            let cardDiv = document.createElement('div');
            cardDiv.classList.add('card', card[0]);
            cardDiv.textContent = card[1];
            cardDiv.onclick = function() {
                selectCard(this);
            };
            player_1_hand_div.appendChild(cardDiv);
        }
        //For loop through test_player_2_hand
        for (let card of test_player_2_hand) {
            player_2_hand_array.push(card);
            let cardDiv = document.createElement('div');
            cardDiv.classList.add('card', card[0]);
            cardDiv.textContent = card[1];
            cardDiv.onclick = function() {
                selectCard(this);
            };
            player_2_hand_div.appendChild(cardDiv);
        }
    }


    function reset_button_function() {
        start.disabled = false;
        reset.disabled = false;
        //Display board
        board.style.display = "none";
        //Reset score
        player_1_score_div.innerHTML = `<h3> Score: 0 </h3>`;
        player_2_score_div.innerHTML = `<h3> Score: 0 </h3>`;
        //Reset hand divs
        player_1_hand_div.innerHTML = `<h3>  </h3>`
        player_2_hand_div.innerHTML = `<h3>  </h3>`

        //Reset hands and divs
        player_1_hand_array = [];
        player_2_hand_array = [];
        player_1_score = 0;
        player_2_score = 0;

    }

    function selectCard(card) {
        // Remove selection from previously selected card
        if (selectedCard) {
            // Remove the "selected" class
            selectedCard.classList.remove("selected");

            //Check if the card is in the div player_1_hand_div
            if (player_1_hand_div.contains(selectedCard)) {
                //If it is, remove the class "selected_player_1_card"
                selectedCard.classList.remove("selected_player_1_card");
            } else if (player_2_hand_div.contains(selectedCard)) {
                //If it's in player_2_hand_div, remove the class "selected_player_2_card"
                selectedCard.classList.remove("selected_player_2_card");
            }
        }

        // Add selection to the clicked card
        if (player_1_turn) {
            card.classList.add("selected_player_1_card");
        } else {
            card.classList.add("selected_player_2_card");
        }

        // Add the "selected" class to indicate that the card is selected
        card.classList.add("selected");

        // Update selectedCard variable
        selectedCard = card;
    }





    //Event Listeners

    // When player clicks start,
    start.addEventListener("click", start_button_function);

    // When player clicks reset,
    reset.addEventListener("click", reset_button_function);



</script>

</body>
</html>